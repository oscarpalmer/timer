var Timer=(()=>{var u=Object.defineProperty;var w=Object.getOwnPropertyDescriptor;var b=Object.getOwnPropertyNames;var g=Object.prototype.hasOwnProperty;var y=(t,e,s)=>e in t?u(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s;var x=(t,e)=>{for(var s in e)u(t,s,{get:e[s],enumerable:!0})},T=(t,e,s,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let a of b(e))!g.call(t,a)&&a!==s&&u(t,a,{get:()=>e[a],enumerable:!(n=w(e,a))||n.enumerable});return t};var A=t=>T(u({},"__esModule",{value:!0}),t);var f=(t,e,s)=>(y(t,typeof e!="symbol"?e+"":e,s),s);var M={};x(M,{Repeated:()=>r,Waited:()=>h,repeat:()=>E,wait:()=>k});var l=Math.round(16.666666666666668),p=globalThis.requestAnimationFrame??function(t){return setTimeout?.(()=>{t(Date.now())},l)};function d(t){t.state.active=!0,t.state.finished=!1;let e=t instanceof r,s=0,n;function a(i){if(!t.state.active)return;n??(n=i);let o=i-n,m=o-l,v=o+l;if(m<t.configuration.time&&t.configuration.time<v)if(t.state.active&&t.callbacks.default(e?s:void 0),s+=1,e&&s<t.configuration.count)n=void 0;else{t.state.finished=!0,t.stop();return}t.state.frame=p(a)}t.state.frame=p(a)}var c=class{constructor(e,s,n,a){f(this,"callbacks");f(this,"configuration");f(this,"state");let i=this instanceof r,o=i?"repeated":"waited";if(typeof e!="function")throw new TypeError(`A ${o} timer must have a callback function`);if(typeof s!="number"||s<0)throw new TypeError(`A ${o} timer must have a non-negative number as its time`);if(i&&(typeof n!="number"||n<2))throw new TypeError("A repeated timer must have a number above 1 as its repeat count");if(i&&a!==void 0&&typeof a!="function")throw new TypeError("A repeated timer's after-callback must be a function");this.configuration={count:n,time:s},this.callbacks={after:a,default:e},this.state={active:!1,finished:!1,frame:null}}get active(){return this.state.active}get finished(){return!this.active&&this.state.finished}restart(){return this.stop(),d(this),this}start(){return this.state.active||d(this),this}stop(){return this.state.active=!1,this.state.frame===void 0?this:((globalThis.cancelAnimationFrame??clearTimeout)?.(this.state.frame),this.callbacks.after?.(this.finished),this.state.frame=void 0,this)}},r=class extends c{},h=class extends c{constructor(e,s){super(e,s,1,null)}};function E(t,e,s,n){return new r(t,e,s,n).start()}function k(t,e){return new h(t,e).start()}return A(M);})();
